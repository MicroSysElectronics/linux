// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/*
 * Device Tree file for MPXLS1088 modules.
 *
 * Copyright 2018 MicroSys Electronics GmbH
 *
 * Kay Potthoff <Kay.Potthoff@microsys.de>
 *
 */

#include "mpxls10xx_common.dtsi"

&soc {
	mdio0: mdio@8b96000 {};
	mdio1: mdio@8b97000 {};
};

&i2c0 {
	status = "okay";

	temp-sensor@4c {
		compatible = "ti,tmp451";
	        reg = <0x4c>;
	        extended-mode; // switch to extended temperature range from [-64..191]
		#limit-cells = <4>;
		limits = <0x00 0xff 0xa4 0x8b>, // Local Temp.:  <-64 191 100 75>
		         <0x00 0xff 0xff 0x00>; // Remote Temp.: <-64 191 120 0>
	};

	eeprom@50 {
		compatible = "at24,24c128";
		reg = <0x50>;
	};

	eeprom@57 {
		compatible = "at24,24c128";
		reg = <0x57>;
	};

	rtc@32 {
		compatible = "epson,rx8581";
		reg = <0x32>;
	};
};

&ifc {
	ranges = <0 0 0x5 0x30000000 0x00010000
			  2 0 0x5 0x20000000 0x00010000>;
};

&nand0 {
		partition@0 {
			reg = <0x0 0x20000000>;
			label = "rootfs";
		};
};

&qflash0 {
		partition@0 {
			reg = <0x0 0x2000>;
			label = "rcw";
		};
		partition@1 {
			reg = <0x2000 0x2000>;
			label = "env";
		};
		partition@2 {
			reg = <0x4000 0x2000>;
			label = "dpc";
		};
		partition@3 {
			reg = <0x6000 0x2000>;
			label = "dpl";
		};
		partition@4 {
			reg = <0x8000 0xe000>;
			label = "ppa";
		};
		partition@5 {
			reg = <0x100000 0x100000>;
			label = "u-boot";
		};
		partition@6 {
			reg = <0x300000 0x200000>;
			label = "mc";
		};
		partition@7 {
			reg = <0x500000 0xb00000>;
			label = "kernel";
		};
};

&esdhc {
	max-frequency = <20000000>;
};
